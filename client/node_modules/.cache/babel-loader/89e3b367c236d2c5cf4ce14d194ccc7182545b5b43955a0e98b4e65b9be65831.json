{"ast":null,"code":"import axios from \"axios\";\nimport { getUserId } from \"./userSession\";\nexport const formatSearchType = type => {\n  if (!type) return \"Unknown Type\";\n  return type.split(\"_\").map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n};\nexport const saveSearchQuery = async (searchType, searchResults, location, searchURL, originString, destinationString) => {\n  try {\n    const userId = getUserId();\n    console.log(`🛠 User ID: ${userId}`);\n    if (!userId) {\n      console.error(\"❌ No User ID found in localStorage.\");\n      return;\n    }\n    const payload = {\n      userId,\n      searchType,\n      searchURL: searchURL || `${window.location.href}`,\n      location: {\n        origin: location.origin,\n        destination: location.destination,\n        string: {\n          from: originString || \"Unknown Origin\",\n          to: destinationString || \"Unknown Destination\"\n        }\n      }\n    };\n    console.log(\"🛠 Sending Payload →\", payload);\n    await axios.post(\"/api/queries/save\", payload);\n  } catch (error) {\n    console.error(\"❌ Error saving search query:\", error);\n  }\n};\nexport const fetchRecentSearches = async () => {\n  try {\n    const userId = getUserId();\n    const response = await axios.get(\"/api/queries/recent\", {\n      params: {\n        userId\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching recent searches:\", error);\n    return [];\n  }\n};","map":{"version":3,"names":["axios","getUserId","formatSearchType","type","split","map","word","charAt","toUpperCase","slice","join","saveSearchQuery","searchType","searchResults","location","searchURL","originString","destinationString","userId","console","log","error","payload","window","href","origin","destination","string","from","to","post","fetchRecentSearches","response","get","params","data"],"sources":["/home/eashr/pet-resources-app/client/src/utils/searchHandler.js"],"sourcesContent":["import axios from \"axios\";\nimport { getUserId } from \"./userSession\";\n\nexport const formatSearchType = (type) => {\n  if (!type) return \"Unknown Type\";\n  return type\n    .split(\"_\")\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n};\n\nexport const saveSearchQuery = async (\n  searchType,\n  searchResults,\n  location,\n  searchURL,\n  originString,\n  destinationString\n) => {\n  try {\n    const userId = getUserId();\n    console.log(`🛠 User ID: ${userId}`);\n    if (!userId) {\n      console.error(\"❌ No User ID found in localStorage.\");\n      return;\n    }\n\n    const payload = {\n      userId,\n      searchType,\n      searchURL: searchURL || `${window.location.href}`,\n      location: {\n        origin: location.origin,\n        destination: location.destination,\n        string: {\n          from: originString || \"Unknown Origin\",\n          to: destinationString || \"Unknown Destination\",\n        },\n      },\n    };\n\n    console.log(\"🛠 Sending Payload →\", payload);\n    await axios.post(\"/api/queries/save\", payload);\n  } catch (error) {\n    console.error(\"❌ Error saving search query:\", error);\n  }\n};\n\nexport const fetchRecentSearches = async () => {\n  try {\n    const userId = getUserId();\n    const response = await axios.get(\"/api/queries/recent\", {\n      params: { userId },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching recent searches:\", error);\n    return [];\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,eAAe;AAEzC,OAAO,MAAMC,gBAAgB,GAAIC,IAAI,IAAK;EACxC,IAAI,CAACA,IAAI,EAAE,OAAO,cAAc;EAChC,OAAOA,IAAI,CACRC,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3DC,IAAI,CAAC,GAAG,CAAC;AACd,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAC7BC,UAAU,EACVC,aAAa,EACbC,QAAQ,EACRC,SAAS,EACTC,YAAY,EACZC,iBAAiB,KACd;EACH,IAAI;IACF,MAAMC,MAAM,GAAGjB,SAAS,CAAC,CAAC;IAC1BkB,OAAO,CAACC,GAAG,CAAC,eAAeF,MAAM,EAAE,CAAC;IACpC,IAAI,CAACA,MAAM,EAAE;MACXC,OAAO,CAACE,KAAK,CAAC,qCAAqC,CAAC;MACpD;IACF;IAEA,MAAMC,OAAO,GAAG;MACdJ,MAAM;MACNN,UAAU;MACVG,SAAS,EAAEA,SAAS,IAAI,GAAGQ,MAAM,CAACT,QAAQ,CAACU,IAAI,EAAE;MACjDV,QAAQ,EAAE;QACRW,MAAM,EAAEX,QAAQ,CAACW,MAAM;QACvBC,WAAW,EAAEZ,QAAQ,CAACY,WAAW;QACjCC,MAAM,EAAE;UACNC,IAAI,EAAEZ,YAAY,IAAI,gBAAgB;UACtCa,EAAE,EAAEZ,iBAAiB,IAAI;QAC3B;MACF;IACF,CAAC;IAEDE,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEE,OAAO,CAAC;IAC5C,MAAMtB,KAAK,CAAC8B,IAAI,CAAC,mBAAmB,EAAER,OAAO,CAAC;EAChD,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;EACtD;AACF,CAAC;AAED,OAAO,MAAMU,mBAAmB,GAAG,MAAAA,CAAA,KAAY;EAC7C,IAAI;IACF,MAAMb,MAAM,GAAGjB,SAAS,CAAC,CAAC;IAC1B,MAAM+B,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAAC,qBAAqB,EAAE;MACtDC,MAAM,EAAE;QAAEhB;MAAO;IACnB,CAAC,CAAC;IACF,OAAOc,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOd,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}