{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst useMap = (fetchPlaces, setLastSearch, setRecentSearches) => {\n  _s();\n  const [map, setMap] = useState(null);\n  const [searchBox, setSearchBox] = useState(null);\n  const [center, setCenter] = useState({\n    lat: 40.7128,\n    lng: -74.006\n  }); // NYC default\n  const [mapSize, setMapSize] = useState({\n    width: \"100%\",\n    height: \"100%\"\n  });\n  const [selectedPlace, setSelectedPlace] = useState(null);\n  useEffect(() => {\n    const updateSize = () => setMapSize({\n      width: \"100%\",\n      height: \"100%\"\n    });\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n  const handlePlaceChanged = (searchBox, fetchPlaces, setLastSearch) => {\n    if (!searchBox) return;\n    const place = searchBox.getPlace();\n    if (!place.geometry || !place.geometry.location) return;\n    const newCenter = {\n      lat: place.geometry.location.lat(),\n      lng: place.geometry.location.lng()\n    };\n    console.log(\"üìç Recenter to:\", newCenter);\n    setCenter(newCenter);\n    localStorage.setItem(\"lastSearch\", place.formatted_address);\n    if (setLastSearch) setLastSearch(place.formatted_address);\n    if (fetchPlaces) fetchPlaces(newCenter);\n  };\n  return {\n    map,\n    setMap,\n    searchBox,\n    setSearchBox,\n    center,\n    setCenter,\n    mapSize,\n    handlePlaceChanged,\n    selectedPlace,\n    setSelectedPlace\n  };\n};\n_s(useMap, \"DLjFXTbtrkp4aahkg3LR+UPeUAk=\");\nexport default useMap;","map":{"version":3,"names":["useState","useEffect","useMap","fetchPlaces","setLastSearch","setRecentSearches","_s","map","setMap","searchBox","setSearchBox","center","setCenter","lat","lng","mapSize","setMapSize","width","height","selectedPlace","setSelectedPlace","updateSize","window","addEventListener","removeEventListener","handlePlaceChanged","place","getPlace","geometry","location","newCenter","console","log","localStorage","setItem","formatted_address"],"sources":["/home/eashr/pet-resources-app/client/src/hooks/useMap.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useMap = (fetchPlaces, setLastSearch, setRecentSearches) => {\n  const [map, setMap] = useState(null);\n  const [searchBox, setSearchBox] = useState(null);\n  const [center, setCenter] = useState({ lat: 40.7128, lng: -74.006 }); // NYC default\n  const [mapSize, setMapSize] = useState({ width: \"100%\", height: \"100%\" });\n  const [selectedPlace, setSelectedPlace] = useState(null);\n\n  useEffect(() => {\n    const updateSize = () => setMapSize({ width: \"100%\", height: \"100%\" });\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  const handlePlaceChanged = (searchBox, fetchPlaces, setLastSearch) => {\n    if (!searchBox) return;\n    const place = searchBox.getPlace();\n    if (!place.geometry || !place.geometry.location) return;\n  \n    const newCenter = {\n      lat: place.geometry.location.lat(),\n      lng: place.geometry.location.lng(),\n    };\n  \n    console.log(\"üìç Recenter to:\", newCenter);\n    setCenter(newCenter);\n    localStorage.setItem(\"lastSearch\", place.formatted_address);\n    if (setLastSearch) setLastSearch(place.formatted_address);\n    if (fetchPlaces) fetchPlaces(newCenter);\n  };\n  \n  return {\n    map,\n    setMap,\n    searchBox,\n    setSearchBox,\n    center,\n    setCenter,\n    mapSize,\n    handlePlaceChanged,\n    selectedPlace, \n    setSelectedPlace\n  };\n};\n\nexport default useMap;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,MAAM,GAAGA,CAACC,WAAW,EAAEC,aAAa,EAAEC,iBAAiB,KAAK;EAAAC,EAAA;EAChE,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC;IAAEa,GAAG,EAAE,OAAO;IAAEC,GAAG,EAAE,CAAC;EAAO,CAAC,CAAC,CAAC,CAAC;EACtE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,KAAK,EAAE,MAAM;IAAEC,MAAM,EAAE;EAAO,CAAC,CAAC;EACzE,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAExDC,SAAS,CAAC,MAAM;IACd,MAAMoB,UAAU,GAAGA,CAAA,KAAML,UAAU,CAAC;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO,CAAC,CAAC;IACtEI,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,UAAU,CAAC;IAC7C,OAAO,MAAMC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEH,UAAU,CAAC;EAC/D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,kBAAkB,GAAGA,CAAChB,SAAS,EAAEN,WAAW,EAAEC,aAAa,KAAK;IACpE,IAAI,CAACK,SAAS,EAAE;IAChB,MAAMiB,KAAK,GAAGjB,SAAS,CAACkB,QAAQ,CAAC,CAAC;IAClC,IAAI,CAACD,KAAK,CAACE,QAAQ,IAAI,CAACF,KAAK,CAACE,QAAQ,CAACC,QAAQ,EAAE;IAEjD,MAAMC,SAAS,GAAG;MAChBjB,GAAG,EAAEa,KAAK,CAACE,QAAQ,CAACC,QAAQ,CAAChB,GAAG,CAAC,CAAC;MAClCC,GAAG,EAAEY,KAAK,CAACE,QAAQ,CAACC,QAAQ,CAACf,GAAG,CAAC;IACnC,CAAC;IAEDiB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,SAAS,CAAC;IACzClB,SAAS,CAACkB,SAAS,CAAC;IACpBG,YAAY,CAACC,OAAO,CAAC,YAAY,EAAER,KAAK,CAACS,iBAAiB,CAAC;IAC3D,IAAI/B,aAAa,EAAEA,aAAa,CAACsB,KAAK,CAACS,iBAAiB,CAAC;IACzD,IAAIhC,WAAW,EAAEA,WAAW,CAAC2B,SAAS,CAAC;EACzC,CAAC;EAED,OAAO;IACLvB,GAAG;IACHC,MAAM;IACNC,SAAS;IACTC,YAAY;IACZC,MAAM;IACNC,SAAS;IACTG,OAAO;IACPU,kBAAkB;IAClBN,aAAa;IACbC;EACF,CAAC;AACH,CAAC;AAACd,EAAA,CA1CIJ,MAAM;AA4CZ,eAAeA,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}